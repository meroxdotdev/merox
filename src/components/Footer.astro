---
import { SOCIAL_LINKS, NAV_LINKS } from '@/consts'
import SocialIcons from './SocialIcons.astro'
import Link from '@/components/Link.astro'
import { Icon } from 'astro-icon/components'

const isExternalLink = (href: string) => {
  return href.startsWith('http')
}
---

<footer class="bg-background/80 border-t border-border/50 backdrop-blur-md">
  <div class="mx-auto max-w-3xl px-4 py-8 sm:py-8">
    <!-- Footer Content -->
    <div class="flex flex-col gap-6 sm:gap-6">
      <!-- Navigation Links -->
      <nav class="flex flex-wrap items-center justify-center gap-x-4 gap-y-2 text-sm">
        {NAV_LINKS.map((item) => {
          const isExternal = isExternalLink(item.href)
          return (
            <Link 
              href={item.href} 
              class="text-foreground/60 hover:text-foreground/80 capitalize transition-colors flex items-center gap-1.5"
            >
              <span>{item.label}</span>
              {isExternal && (
                <Icon 
                  name="lucide:external-link" 
                  class="size-3 opacity-70 flex-shrink-0" 
                  aria-hidden="true"
                />
              )}
            </Link>
          )
        })}
      </nav>

      <!-- Separator - Hidden on mobile -->
      <div class="h-px bg-border/60 hidden sm:block" aria-hidden="true"></div>

      <!-- Bottom Section -->
      <div class="flex flex-col items-center gap-4 sm:flex-row sm:justify-between sm:gap-4">
        <!-- Copyright & Legal Links -->
        <div class="flex flex-col sm:flex-row items-center gap-2 sm:gap-x-3 text-sm text-muted-foreground text-center">
          <span>
            &copy; {new Date().getFullYear()} Merox.
          </span>
          <div class="hidden sm:inline-block h-3 w-px bg-border/60" aria-hidden="true"></div>
          <div class="flex items-center gap-x-2">
            <a href="/privacy" class="hover:text-foreground transition-colors">
              Privacy
            </a>
            <span class="text-border/60">Â·</span>
            <a href="/terms" class="hover:text-foreground transition-colors">
              Terms
            </a>
          </div>
        </div>

        <!-- Social Icons -->
        <SocialIcons links={SOCIAL_LINKS} />
      </div>
    </div>
  </div>
</footer>
