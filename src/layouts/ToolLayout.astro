---
import Layout from './Layout.astro'
import PageHead from '@/components/PageHead.astro'
import Breadcrumbs from '@/components/Breadcrumbs.astro'
import AdSense from '@/components/AdSense.astro'
import { ErrorBoundary } from '@/components/react/ErrorBoundary'

interface Props {
  title: string
  description: string
  toolName: string
  toolIcon: string
  structuredData?: any
}

const { title, description, toolName, toolIcon, structuredData } = Astro.props
const pageUrl = new URL(Astro.url.pathname, Astro.site).href
---

<Layout class="max-w-3xl">
  <PageHead 
    slot="head" 
    title={`${title} - Free Online Tool`}
    description={description}
  />
  
  {structuredData && <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />}

  <Breadcrumbs 
    items={[
      { label: 'Tools', href: '/tools', icon: 'lucide:wrench' },
      { label: toolName, icon: toolIcon },
    ]} 
  />

  <div class="flex flex-col gap-y-6 py-4">
    <header class="space-y-2">
      <h1 class="text-3xl sm:text-4xl font-bold tracking-tight">{toolName}</h1>
      <p class="text-muted-foreground">
        {description}
      </p>
    </header>

    <AdSense />

    <div class="rounded-xl border bg-card shadow-sm overflow-hidden">
      <ErrorBoundary client:load>
        <slot />
      </ErrorBoundary>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <div class="p-4 rounded-xl border bg-muted/30 space-y-2">
        <h2 class="font-semibold text-sm flex items-center gap-2 text-foreground/80">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield-check"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></svg>
          Privacy First
        </h2>
        <p class="text-xs text-muted-foreground leading-relaxed">
          Everything is processed locally in your browser. Your data never leaves your device.
        </p>
      </div>
      <div class="p-4 rounded-xl border bg-muted/30 space-y-2">
        <h2 class="font-semibold text-sm flex items-center gap-2 text-foreground/80">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap"><path d="m13 2-2 10h3L12 22l2-10h-3Z"/></svg>
          Instant Results
        </h2>
        <p class="text-xs text-muted-foreground leading-relaxed">
          Built with modern web tech for zero latency and instant results as you type.
        </p>
      </div>
    </div>

    <AdSense />
  </div>
</Layout>

