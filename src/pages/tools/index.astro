---
import Breadcrumbs from '@/components/Breadcrumbs.astro'
import PageHead from '@/components/PageHead.astro'
import Layout from '@/layouts/Layout.astro'
import Link from '@/components/Link.astro'
import { Icon } from 'astro-icon/components'

const tools = [
  {
    name: "Password Generator",
    description: "Generate secure passwords and check strength",
    href: "/tools/password-generator",
    icon: "lucide:shield-check",
    category: "Security"
  },
  {
    name: "Subnet Calculator",
    description: "Calculate subnet masks and network addresses",
    href: "/tools/subnet-calculator",
    icon: "lucide:network",
    category: "Network"
  },
  {
    name: "IP & DNS Lookup",
    description: "Lookup IP geolocation and DNS records",
    href: "/tools/ip-dns-lookup",
    icon: "lucide:search",
    category: "Network"
  },
  {
    name: "Base64 Encoder & Decoder",
    description: "Encode and decode Base64 strings",
    href: "/tools/base64-encoder",
    icon: "lucide:code",
    category: "Developer"
  },
  {
    name: "JSON Formatter & Validator",
    description: "Format, validate, and minify JSON strings",
    href: "/tools/json-formatter",
    icon: "lucide:braces",
    category: "Developer"
  },
  {
    name: "YAML Validator & Formatter",
    description: "Validate, format, and convert YAML files",
    href: "/tools/yaml-validator",
    icon: "lucide:file-code",
    category: "Developer"
  },
  {
    name: "Docker Run to Compose",
    description: "Convert docker run commands to Docker Compose YAML",
    href: "/tools/docker-converter",
    icon: "lucide:container",
    category: "Developer"
  }
]

const categories = [...new Set(tools.map(t => t.category))]

const pageUrl = new URL(Astro.url.pathname, Astro.site).href

const structuredData = {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "Free Online Tools",
  "description": "Collection of free online tools for system administrators, developers, and IT professionals.",
  "url": pageUrl,
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": tools.map((tool, index) => ({
      "@type": "ListItem",
      "position": index + 1,
      "name": tool.name,
      "url": new URL(tool.href, Astro.site).href
    }))
  }
}
---

<Layout class="max-w-3xl">
  <PageHead 
    slot="head" 
    title="Free Online Tools - Password Generator, Subnet Calculator, IP Lookup"
    description="Free online tools for system administrators, developers, and IT professionals. All tools run in your browser."
  />
  
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />

  <Breadcrumbs items={[{ label: 'Tools', icon: 'lucide:wrench' }]} />

  <div class="flex flex-col gap-12 pb-12">
    <header class="space-y-3">
      <h1 class="text-2xl font-black tracking-tighter uppercase leading-none text-foreground">
        Free <span class="text-primary">Tools</span>.
      </h1>
      <p class="text-sm text-muted-foreground leading-relaxed max-w-xl">
        Privacy-focused, client-side tools for developers and system administrators.
      </p>
    </header>

    <div class="space-y-12">
      {categories.map(category => (
        <section class="space-y-4">
          <h2 class="text-xs font-bold text-primary uppercase tracking-wider">{category}</h2>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4">
            {tools.filter(t => t.category === category).map(tool => (
              <Link
                href={tool.href}
                class="group flex items-start gap-4 p-3 -m-3 rounded-xl hover:bg-muted/50 transition-colors"
              >
                <div class="p-2 rounded-lg bg-primary/5 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors shrink-0">
                  <Icon name={tool.icon} class="size-5" />
                </div>
                
                <div class="space-y-1">
                  <h3 class="font-semibold text-sm group-hover:text-primary transition-colors flex items-center gap-1.5">
                    {tool.name}
                    <Icon name="lucide:arrow-up-right" class="size-3 text-muted-foreground/50 opacity-0 group-hover:opacity-100 transition-all transform -translate-x-1 group-hover:translate-x-0" />
                  </h3>
                  <p class="text-xs text-muted-foreground leading-relaxed line-clamp-2">
                    {tool.description}
                  </p>
                </div>
              </Link>
            ))}
          </div>
        </section>
      ))}
    </div>
  </div>
</Layout>
