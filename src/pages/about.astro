---
import Breadcrumbs from '@/components/Breadcrumbs.astro'
import PageHead from '@/components/PageHead.astro'
import Link from '@/components/Link.astro'
import Layout from '@/layouts/Layout.astro'
import { Icon } from 'astro-icon/components'

const techStack = {
  hpc: [
    { name: 'PBS Pro', icon: 'lucide:server', color: 'text-blue-500' },
    { name: 'InfiniBand', icon: 'lucide:network', color: 'text-red-500' },
    { name: 'iDRAC', icon: 'lucide:hard-drive', color: 'text-blue-600' },
    { name: 'CST Studio', icon: 'lucide:radio', color: 'text-orange-500' },
    { name: 'Moldflow', icon: 'lucide:waves', color: 'text-cyan-500' },
    { name: 'Altair', icon: 'lucide:cpu', color: 'text-purple-500' },
  ],
  cloud: [
    { name: 'AWS', icon: 'simple-icons:amazonwebservices', color: 'text-[#FF9900]' },
    { name: 'Oracle Cloud', icon: 'simple-icons:oracle', color: 'text-[#F80000]' },
    { name: 'Docker', icon: 'simple-icons:docker', color: 'text-[#2496ED]' },
    { name: 'Kubernetes', icon: 'simple-icons:kubernetes', color: 'text-[#326CE5]' },
    { name: 'Proxmox', icon: 'lucide:server-cog', color: 'text-[#E57000]' },
    { name: 'Rancher', icon: 'simple-icons:rancher', color: 'text-[#0075A8]' },
  ],
  devops: [
    { name: 'Terraform', icon: 'simple-icons:terraform', color: 'text-[#7B42BC]' },
    { name: 'Ansible', icon: 'simple-icons:ansible', color: 'text-[#EE0000]' },
    { name: 'Puppet', icon: 'simple-icons:puppet', color: 'text-[#FFAE1A]' },
    { name: 'Salt', icon: 'simple-icons:saltproject', color: 'text-[#57BCAD]' },
    { name: 'GitOps', icon: 'simple-icons:git', color: 'text-[#F05032]' },
    { name: 'Flux', icon: 'simple-icons:flux', color: 'text-[#5468FF]' },
  ],
  security: [
    { name: 'CCNA', icon: 'simple-icons:cisco', color: 'text-[#1BA0D7]' },
    { name: 'Fortinet', icon: 'simple-icons:fortinet', color: 'text-[#EE3124]' },
    { name: 'Palo Alto', icon: 'lucide:shield', color: 'text-[#FA582D]' },
    { name: 'Nessus', icon: 'lucide:scan', color: 'text-[#00C176]' },
    { name: 'StrongSwan', icon: 'lucide:lock', color: 'text-[#3B82F6]' },
    { name: 'CyberArk', icon: 'lucide:key-round', color: 'text-[#0085CA]' },
  ]
}
---

<Layout class="max-w-3xl">
  <PageHead slot="head" title="About" />
  <Breadcrumbs items={[{ label: 'About', icon: 'lucide:user' }]} />

  <section class="space-y-8">
    <!-- Simple Header -->
    <div class="space-y-2">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div>
          <h1 class="text-4xl font-bold">Robert Melcher</h1>
          <p class="text-xl text-muted-foreground">HPC System Administrator & DevOps Engineer</p>
        </div>
        <Link href="/robert-melcher-cv.pdf" external class="inline-flex items-center gap-2 px-4 py-2 rounded-md border bg-card hover:bg-accent transition-colors shrink-0">
          <Icon name="lucide:download" class="size-4" />
          <span>Download CV</span>
        </Link>
      </div>
    </div>

    <!-- Tech Stack -->
    <div class="space-y-4">
      <h2 class="text-2xl font-semibold">Tech Stack</h2>
      
      <div class="grid gap-4">
        <div>
          <h3 class="text-sm font-medium text-muted-foreground mb-2">HPC & Infrastructure</h3>
          <div class="flex flex-wrap gap-2">
            {techStack.hpc.map((tech) => (
              <span class="px-3 py-1 text-sm rounded-md border bg-card inline-flex items-center gap-1.5">
                <Icon name={tech.icon} class={`size-4 ${tech.color}`} />
                {tech.name}
              </span>
            ))}
          </div>
        </div>

        <div>
          <h3 class="text-sm font-medium text-muted-foreground mb-2">Cloud & Virtualization</h3>
          <div class="flex flex-wrap gap-2">
            {techStack.cloud.map((tech) => (
              <span class="px-3 py-1 text-sm rounded-md border bg-card inline-flex items-center gap-1.5">
                <Icon name={tech.icon} class={`size-4 ${tech.color}`} />
                {tech.name}
              </span>
            ))}
          </div>
        </div>

        <div>
          <h3 class="text-sm font-medium text-muted-foreground mb-2">DevOps & Automation</h3>
          <div class="flex flex-wrap gap-2">
            {techStack.devops.map((tech) => (
              <span class="px-3 py-1 text-sm rounded-md border bg-card inline-flex items-center gap-1.5">
                <Icon name={tech.icon} class={`size-4 ${tech.color}`} />
                {tech.name}
              </span>
            ))}
          </div>
        </div>

        <div>
          <h3 class="text-sm font-medium text-muted-foreground mb-2">Security & Networking</h3>
          <div class="flex flex-wrap gap-2">
            {techStack.security.map((tech) => (
              <span class="px-3 py-1 text-sm rounded-md border bg-card inline-flex items-center gap-1.5">
                <Icon name={tech.icon} class={`size-4 ${tech.color}`} />
                {tech.name}
              </span>
            ))}
          </div>
        </div>
      </div>
    </div>

    <!-- Experience -->
    <div class="space-y-4">
      <h2 class="text-2xl font-semibold">Experience</h2>
      
      <div class="space-y-4">
        <div class="border-l-2 border-primary pl-4">
          <h3 class="font-semibold">HPC System Administrator</h3>
          <p class="text-sm text-muted-foreground">Forvia • 2022 – Present</p>
          <p class="text-sm mt-1">
            Enterprise HPC cluster management, datacenter deployments, InfiniBand networking, PBS scheduling
          </p>
        </div>

        <div class="border-l-2 border-muted pl-4">
          <h3 class="font-semibold">Cybersecurity Engineer</h3>
          <p class="text-sm text-muted-foreground">Atos • 2020 – 2022</p>
          <p class="text-sm mt-1">
            Firewall policy management, CyberArk PAM, Forescout NAC
          </p>
        </div>

        <div class="border-l-2 border-muted pl-4">
          <h3 class="font-semibold">System Administrator</h3>
          <p class="text-sm text-muted-foreground">Netex Romania • 2018 – 2020</p>
          <p class="text-sm mt-1">
            Puppet to K8s migration, Asterisk VOIP, datacenter operations
          </p>
        </div>
      </div>
    </div>

    <!-- Education -->
    <div class="space-y-3">
      <h2 class="text-2xl font-semibold">Education</h2>
      
      <div>
        <h3 class="font-semibold">Computer Science</h3>
        <p class="text-sm text-muted-foreground">West University of Timișoara • 2016–2018</p>
      </div>

      <div>
        <h3 class="font-semibold">CCNA Certification</h3>
        <p class="text-sm text-muted-foreground">Cisco • 2019–2020</p>
      </div>
    </div>

    <!-- Highlights -->
    <div class="space-y-3">
      <h2 class="text-2xl font-semibold">Key Projects</h2>
      
      <ul class="space-y-2 text-sm">
        <li class="flex gap-2">
          <Icon name="lucide:check" class="size-4 text-primary shrink-0 mt-0.5" />
          <span>Full datacenter deployments with InfiniBand clusters at Forvia</span>
        </li>
        <li class="flex gap-2">
          <Icon name="lucide:check" class="size-4 text-primary shrink-0 mt-0.5" />
          <span>Homelab Kubernetes cluster with Talos Linux, Flux GitOps, and Cilium CNI</span>
        </li>
        <li class="flex gap-2">
          <Icon name="lucide:check" class="size-4 text-primary shrink-0 mt-0.5" />
          <span>Proxmox virtualization with automated deployments on Dell R720</span>
        </li>
        <li class="flex gap-2">
          <Icon name="lucide:check" class="size-4 text-primary shrink-0 mt-0.5" />
          <span>pfSense firewall with VLAN segmentation and WAF security</span>
        </li>
        <li class="flex gap-2">
          <Icon name="lucide:check" class="size-4 text-primary shrink-0 mt-0.5" />
          <span>AWS/EC2 applications and Oracle Ampere ARM testing</span>
        </li>
        <li class="flex gap-2">
          <Icon name="lucide:check" class="size-4 text-primary shrink-0 mt-0.5" />
          <span>Infrastructure automation with cert-manager, external-dns, and SOPS secrets</span>
        </li>
      </ul>
    </div>

    <!-- About Merox -->
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Why "Merox"?</h2>
      <p class="text-sm text-muted-foreground">
        <strong>Merox</strong> = <strong>ME</strong>(lcher) + <strong>RO</strong>(bert) + <strong>X</strong>
      </p>
      <p class="text-xs text-muted-foreground italic">
        (formerly mer0x39 → 0x39 = 57 = July 5th birthday)
      </p>
    </div>

    <!-- Footer -->
    <div class="pt-4 border-t">
      <p class="text-sm text-muted-foreground text-center">
        Open to infrastructure and cybersecurity discussions
      </p>
    </div>
  </section>
</Layout>